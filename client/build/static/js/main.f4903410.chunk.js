(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(62),o=a.n(c),l=(a(76),a(15)),s=a(16),i=a(19),u=a(17),p=a(20),d=a(21),m=a(134),h=a(36),b=a.n(h),g={"Content-Type":"application/json"},w="http://localhost:8800",f=function(e,t){return b.a.post("".concat(w,"/user/login"),{email:e,password:t},{headers:g})},v=function(e){return b.a.post("".concat(w,"/user/signup"),e,{headers:g})},E=function(){return null!==localStorage.getItem("token")},j=function(){localStorage.clear()},k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).disconnect=function(){j(),window.location="/"},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Dashboard"},r.a.createElement("h1",null,"Dashboard"),r.a.createElement(m.a,{onClick:this.disconnect,block:!0,bsSize:"large",type:"submit"},"Se d\xe9connecter"))}}]),t}(r.a.Component),O=a(29),y=a(23),C=a.n(y),S=a(30),x=a(136),I=a(133),z=a(135),A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.send=Object(S.a)(C.a.mark((function e(){var t,n,r,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.email,r=t.password,n&&0!==n.length){e.next=3;break}return e.abrupt("return");case 3:if(r&&0!==r.length){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,f(n,r);case 8:c=e.sent,o=c.data,localStorage.setItem("token",o.token),window.location="/dashboard",e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])}))),a.handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"Login"},r.a.createElement(x.a,{controlId:"email",bsSize:"large"},r.a.createElement(I.a,null,"Email"),r.a.createElement(z.a,{autoFocus:!0,type:"email",value:t,onChange:this.handleChange})),r.a.createElement(x.a,{controlId:"password",bsSize:"large"},r.a.createElement(I.a,null,"Password"),r.a.createElement(z.a,{value:a,onChange:this.handleChange,type:"password"})),r.a.createElement(m.a,{onClick:this.send,block:!0,bsSize:"large",type:"submit"},"Connexion"))}}]),t}(r.a.Component),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",cpassword:""},a.send=Object(S.a)(C.a.mark((function e(){var t,n,r,c,o,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.email,r=t.password,c=t.cpassword,n&&0!==n.length){e.next=3;break}return e.abrupt("return");case 3:if(r&&0!==r.length&&r===c){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,v({email:n,password:r});case 8:o=e.sent,l=o.data,localStorage.setItem("token",l.token),window.location="/dashboard",e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])}))),a.handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.cpassword;return r.a.createElement("div",{className:"Login"},r.a.createElement(x.a,{controlId:"email",bsSize:"large"},r.a.createElement(I.a,null,"Email"),r.a.createElement(z.a,{autoFocus:!0,type:"email",value:t,onChange:this.handleChange})),r.a.createElement(x.a,{controlId:"password",bsSize:"large"},r.a.createElement(I.a,null,"Password"),r.a.createElement(z.a,{value:a,onChange:this.handleChange,type:"password"})),r.a.createElement(x.a,{controlId:"cpassword",bsSize:"large"},r.a.createElement(I.a,null,"Confirm Password"),r.a.createElement(z.a,{value:n,onChange:this.handleChange,type:"password"})),r.a.createElement(m.a,{onClick:this.send,block:!0,bsSize:"large",type:"submit"},"Inscription"))}}]),t}(r.a.Component),P=a(68),B=function(e){var t=e.component,a=Object(P.a)(e,["component"]);return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return!1===E()?r.a.createElement(d.a,{to:"/"}):r.a.createElement(t,e)}}))},D=(a(131),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-content"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:A}),r.a.createElement(d.b,{exact:!0,path:"/signup",component:N}),r.a.createElement(B,{path:"/dashboard",component:k}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(28);o.a.render(r.a.createElement(F.a,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,a){e.exports=a(132)},76:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.f4903410.chunk.js.map